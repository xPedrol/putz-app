<ng-container *ngIf="negotiation?.finalPrice">
  <h5 class="poppins header-title">Sumário de Orçamento</h5>
  <div class="row">
    <div class="col-12 col-md-6 col-xl-3">
      <app-project-conception-card [isDetailed]="isDetailed"></app-project-conception-card>
    </div>
    <ng-container *ngIf="isDetailed">
      <div class="col-12 col-md-6 col-xl-3">
        <nb-card accent="primary">
          <nb-card-header>
            <h6 class="poppins header-title text-center">Freelancer</h6>
          </nb-card-header>
          <nb-card-body>
            <div class="text-center">
              <div class="row">
                <div class="mb-3 col-md-12">
                  <label class="form-control-label">Custo Base:</label>
                  <h6 class="fw-bold">{{ negotiation?.itemsSum | currency}}</h6>
                </div>
                <div class="col-12">
                  <h6>+</h6>
                </div>
                <div class="mb-3 col">
                  <label class="form-control-label">Urgência:</label>
                  <h6 class="fw-bold">{{ negotiation?.priorityValue | currency}}</h6>
                </div>
                <div class="mb-3 col">
                  <label class="form-control-label">Seguro:</label>
                  <h6 class="fw-bold">{{ negotiation?.insuranceValue | currency}}</h6>
                </div>
              </div>
              <hr/>
              <div class="row">
                <div class="mb-3 col">
                  <label class="">Custo Máximo:</label>
                </div>
                <div class="mb-3 col">
                  <h6 class="fw-bold">{{ negotiation?.itemsBasedSumWithPriorityPlusInsurance | currency}}</h6>
                </div>
              </div>

              <div class="mb-3">
                <small class="label">Custo Base de {{ negotiation?.itemsCostPercentage }}% do valor</small>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-12 col-md-6 col-xl-3">
        <nb-card accent="primary">
          <nb-card-header>
            <h6 class="poppins header-title text-center">Agência</h6>
          </nb-card-header>
          <nb-card-body>
            <div class="text-center">
              <div class="row">
                <div class="mb-3 col-md-12">
                  <label class="form-control-label">Comissão Base:</label>
                  <h6 class="fw-bold">{{ negotiation?.agencyCommissionBaseValue | currency}}</h6>
                </div>
                <div class="col-12">
                  <h6>-</h6>
                </div>
                <div class="mb-3 col-md-12">
                  <label class="form-control-label">Descontos:</label>
                  <h6 class="fw-bold">{{ negotiation?.agencyCommissionRebateValue | currency}}</h6>
                </div>
              </div>
              <hr/>
              <div class="row">
                <div class="mb-3 col">
                  <label class="form-control-label">Líquido:</label>
                </div>
                <div class="mb-3 col">
                  <h6 class="fw-bold">{{ negotiation?.agencyCommissionFinalValue | currency}}</h6>
                </div>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-12 col-md-6 col-xl-3">
        <nb-card accent="primary">
          <nb-card-header>
            <h6 class="poppins header-title text-center">Putz</h6>
          </nb-card-header>
          <nb-card-body>
            <div class="text-center">
              <div class="row">
                <div class="mb-3 col-md-12">
                  <label class="form-control-label">Custo Total:</label>
                  <h6 class="fw-bold">{{ negotiation?.finalCosts | currency}}</h6>
                </div>
                <div class="mb-3 col-md-12">
                  <label class="form-control-label">Lucro Min:</label>
                  <h6 class="fw-bold">
                    {{ (negotiation?.finalProfit ?? 0) - (negotiation?.finalExtraBudget ?? 0) | currency}}
                  </h6>
                </div>
                <div class="mb-3 col-md-12">
                  <label class="form-control-label">Orçamento Variável:</label>
                  <h6 class="fw-bold">{{ negotiation?.finalExtraBudget | currency}}</h6>
                </div>
              </div>
              <hr/>
              <div class="row">
                <div class="mb-3 col-md-6">
                  <label class="form-control-label">Lucro Máximo:</label>
                </div>
                <div class="mb-3 col-md-6">
                  <h6 class="fw-bold">{{ negotiation?.finalProfit | currency}}</h6>
                </div>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </div>
    </ng-container>
  </div>
</ng-container>
